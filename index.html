<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oquefazer</title>
<link rel="icon" href="icone.png">
<link rel="apple-touch-icon" href="icone.png">
<link rel="manifest" href="manifest.json">
<style>
body {
margin: 0;
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
background: url('fundo.jpg') center/cover no-repeat;
display: flex;
align-items: flex-end;
padding-bottom: 80px;
justify-content: center;
height: 100vh;
box-sizing: border-box;
overflow-y: hidden;
}
.container {
background: rgba(255, 255, 255, 0.85);
padding: 15px 30px;
border-radius: 25px;
box-shadow: 0 25px 60px rgba(0,0,0,0.25);
width: 90%;
max-width: 420px;
text-align: center;
}
h3 {
margin-bottom: 10px;
font-size: 22px;
color: #333;
}
input {
width: 100%;
padding: 14px;
border-radius: 14px;
border: 1px solid #ddd;
font-size: 16px;
margin-bottom: 20px;
outline: none;
box-sizing: border-box;
}
input:focus {
border-color: #d62976;
box-shadow: 0 0 0 3px rgba(214,41,118,0.2);
}
button {
width: 100%;
padding: 14px;
border: none;
border-radius: 14px;
font-size: 16px;
font-weight: bold;
cursor: pointer;
background: #6eb233;
color: white;
}
</style>
</head>
<body>

<div id="splash" style="
position: fixed;
top: 0; left: 0;
width: 100%; height: 100%;
background: #000000;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
z-index: 9999;
transition: opacity 0.5s ease;
">
<img src="splash.png" style="width: 300px;">
</div>

<div class="container">
<h3>Eventos perto de voc√™</h3>
<form onsubmit="buscar(); return false;">
<input type="text" id="cidade">
<button type="submit">Ver o que rola essa semana</button>
<p style="margin-top: 10px; font-size: 14px; color: #555;">
IA pode trazer eventos diferentes a cada busca
</p>
<p style="margin-top: 35px; font-size: 14px; color: #555;">
<a href="https://www.instagram.com/joseaugustobaron/" target="_blank" style="color: #6eb233; text-decoration: none;">@joseaugustobaron</a>
</p>
</form>
</div>

<!-- Modal -->
<div id="modal" onclick="if(event.target===this)this.style.display='none';" style="
position: fixed;
top: 0; left: 0; width: 100%; height: 100%;
background: rgba(0,0,0,0.6);
display: none;
align-items: center; justify-content: center;
z-index: 10000;
">
<div style="
background: white;
padding: 25px 20px;
border-radius: 20px;
text-align: center;
max-width: 300px;
box-shadow: 0 10px 30px rgba(0,0,0,0.25);
">
<p style="margin-bottom: 20px; font-size: 16px; color: #333;">
Por favor, digite uma cidade
</p>
<button onclick="document.getElementById('modal').style.display='none'; document.getElementById('cidade').focus();" style="
padding: 7px 14px;
border: none;
border-radius: 10px;
font-size: 13px;
font-weight: bold;
cursor: pointer;
background: #6eb233;
color: white;
width: auto;
">Entendi</button>
</div>
</div>

<script>
function buscar() {
const cidade = document.getElementById("cidade").value.trim();
if (!cidade) {
document.getElementById('modal').style.display = 'flex';
return;
}

localStorage.setItem('cidade', cidade);

const query = `Todos os eventos reais em ${cidade} nos pr√≥ximos 7 dias a partir de hoje, em ordem cronol√≥gica no formato üìÜ calend√°rio. N√£o invente eventos. Incluir shows, cultura, gastronomia, restaurantes, bares, esportes, feiras, festivais, mercados, exposi√ß√µes, workshops. Apenas eventos com data confirmada. Para cada evento: data, hor√°rio, local e link. Para restaurantes: incluir especialidade. Categorias: üçª Gastronomia e Bar, üç¥ Restaurante, üé∂ Eventos e Shows, üé≠ Cultura e Arte, üå± Parque e Natureza, üéæ Esportes, ‚≠ê Outros. Para cada evento incluir pelo menos um link. Se houver mais, incluir todos: site oficial, Instagram, Sympla, Eventbrite ou site da prefeitura.`;
const url = "https://www.google.com/search?udm=50&hl=pt-BR&q=" + encodeURIComponent(query);
location.href = url;
}
</script>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const ultima = localStorage.getItem('cidade');
  document.getElementById('cidade').value = ultima || 'Blumenau';
});
</script>

<script>
window.addEventListener('load', () => {
setTimeout(() => {
const splash = document.getElementById('splash');
splash.style.opacity = '0';
splash.style.pointerEvents = 'none';
setTimeout(() => splash.remove(), 2000);
}, 2500);
});
</script>

<script>
if ('serviceWorker' in navigator) {
navigator.serviceWorker.register('/oquefazer/sw.js');
}
</script>
</body>
</html>
